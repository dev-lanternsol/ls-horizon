{%- doc -%}
  Renders CSS variables for spacing (padding and margin) styles with responsive scaling.
  Intended for blocks and sections that provide values for all the referenced settings.

  @param {object} settings - The block or section settings object containing spacing values

  @example
  <div class="spacing-style" style="{% render 'spacing-style', settings: section.settings %}">
{%- enddoc -%}
{%- liquid
  assign scale_min = 20
  assign keys = 'padding-block-start,padding-block-end,padding-inline-start,padding-inline-end,padding-block-start-mobile,padding-block-end-mobile,padding-inline-start-mobile,padding-inline-end-mobile' | split: ','
  
  if settings.use_mobile_padding
    for key in keys
      assign value = settings[key] | divided_by: 16.0

      if value != blank
        echo '--'
        echo key
        echo ': '

        if value > scale_min
          echo 'max('
          echo scale_min
          echo 'px, calc(var(--spacing-scale) * '
          echo value
          echo 'px))'
        else
          echo value
          echo 'rem'
        endif

        echo ';'
      endif
    endfor
  else
    for key in keys
      assign fallback_key = key | remove: '-mobile' 
      assign value = settings[fallback_key] | divided_by: 16.0

      if value != blank
        echo '--'
        echo key
        echo ': '

        if value > scale_min
          echo 'max('
          echo scale_min
          echo 'px, calc(var(--spacing-scale) * '
          echo value
          echo 'px))'
        else
          echo value
          echo 'rem'
        endif

        echo ';'
      endif
    endfor
  endif
-%}
